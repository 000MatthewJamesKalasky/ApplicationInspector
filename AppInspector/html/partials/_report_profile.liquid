<div class="section">
  <h2>Application Profile</h2>

  <div>
    This section describes the main characteristics of the appliation
    analyzed. Begin exploring by clicking any of the highlighted icons
    below. You can also drill into specific characteristics by clicking
    on the link shown on the right.
  </div>
</div>
<br>
  <div class="section">
    <div class="container-fluid">
      <div class="row">
        <div class="col">
          <table class="table table-sm" style="width:600px">
            {% for group in groups -%}
            <tr style="vertical-align:center">
              <td style="vertical-align:top;width:200px;">
                <img id="{{group.title}}-toggleBtn" src="html/toggleBtn-none.png" height="20" width="20" onclick="toggleSelectFeatures('{{group.title}}');">&nbsp;{{group.title}}
              </td>
              <td>
                <div id="{{group.title}}-summary" style="display:block">
                  {% for searchPattern in group.patterns -%}
                  <div class="grid-1">
                    <a href="#" class="feature_icon" title="{{searchPattern.display_name}}" data-target="{{searchPattern.search_pattern}}">
                      <i class="{{searchPattern.detected_icon}}"></i>
                    </a>
                  </div>
                  {% endfor -%}
                </div>

                <div id="{{group.title}}-detailed" style="display:none">
                  <table>
                    <tr>
                      <td style="width:300px;text-align:center" colspan="2">
                        <strong>Feature</strong>
                      </td>
                      <td style="width:135px;text-align:center">
                        <strong>Confidence</strong>
                      </td>
                      <td>
                        <strong>Details</strong>
                      </td>
                    </tr>

                    {% for searchPattern in group.patterns -%}
                    <tr>
                      <td>
                        <div class="grid-1">
                          <a href="#" class="feature_icon" title="{{searchPattern.display_name}}" data-target="{{searchPattern.search_pattern}}">
                            <i class="{{searchPattern.detected_icon}}"></i>
                          </a>
                        </div>
                      </td>
                      <td>{{searchPattern.display_name}}</td>
                      <td style="text-align:center">{{searchPattern.confidence}}</td>
                      <td style="text-align:center">
                        <a href="#" class="feature_icon" title="{{searchPattern.display_name}}" data-target="{{searchPattern.search_pattern}}">{{searchPattern.details}}</a>
                      </td>
                    </tr>
                    {% endfor -%}
                  </table>
                </div>
              </td>
            </tr>
            {% endfor -%}
          </table>
        </div>

        <div class="col">
          <div id="features">
            <table class="table table-sm table-hover">
              <thead>
                <tr>
                  <th>Characteristics (select from left)</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script type="text/javascript">
    function toggleSelectFeatures(divname)
    {
    var toggleValue1 = document.getElementById(divname+'-summary').style.display;
    var toggleValue2 = document.getElementById(divname+'-detailed').style.display;

    document.getElementById(divname+'-summary').style.display = toggleValue2;
    document.getElementById(divname+'-detailed').style.display = toggleValue1;
    document.getElementById(divname+'-toggleBtn').src = "html/toggleBtn-"+toggleValue1+".png";

    }
  </script>
